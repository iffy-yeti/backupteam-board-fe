<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<!-- 타이틀, 영화등록링크, 테이블안에 id,제목,등록자,등록날짜 -->
<style>
    table {
        width: 100%;
        border: 1px solid rgba(146, 255, 217, 0.267);
        border-radius: 20px;
        color:rgb(27, 106, 64);
    }
    a {
        color:rgb(11, 182, 125);
    }
    h1 {
        color:rgb(0, 126, 73)
    }
</style>
<body>
    <h1>영화리스트다</h1>
    <a href="register.html">등록하러가기</a>

    <table border="1">
        <tr>
            <td>ID</td>
            <td>제목</td>
            <td>등록자</td>
            <td>조회수</td>
            <td>등록날짜</td>
        </tr>
        <tr>
            <td>1</td>
            <td>제목</td>
            <td>등록자</td>
            <td>조회수</td>
            <td>등록날짜</td>
        </tr>
    </table>
    <!-- <script src="app.js"></script>  -->
    <script>
        fetch('http://localhost:9000/movies')
            .then((response) => response.json())
            .then(movies => {
                const html = movies.app(movie => {
                    return 
                    <tr>
                        <td>${movie.id}</td>
                        <td>${movie.movie_title}</td>
                        <td>${movie.name}</td>
                        <td>${movie.hit_count}</td>
                        <td>${movie.created_at}</td>
                    </tr>
                })
                document.getElementById("movies").innerHTML = html.join('')
            })
    </script>
</body>
   
</html>